package com.dk;

import ch.qos.logback.core.encoder.EchoEncoder;
import org.apache.http.NameValuePair;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.client.utils.URIBuilder;
import org.apache.http.entity.StringEntity;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.util.EntityUtils;
import org.springframework.boot.Banner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;

import java.io.IOException;
import java.net.URI;
import java.net.URISyntaxException;
import java.util.ArrayList;
import java.util.List;

/**
 * @author Kay
 */

//@SpringBootApplication
public class App {
    public static void main(String[] args) {
//        SpringApplication.run(App.class, args);
        /*
        关闭banner
        SpringApplicationBuilder builder = new SpringApplicationBuilder(App.class);
        builder.bannerMode(Banner.Mode.OFF).run();
        */
        System.out.println("starting ...");
        for (int i = 0; i < 1; i++) {
            startExec(new App());
        }
        System.out.println("waiting ... ");
    }

    public void getToken() throws Exception {
        // 创建Httpclient对象
        CloseableHttpClient httpclient = HttpClients.createDefault();
        // 创建http GET请求
        HttpGet httpGet = new HttpGet("http://standardtest.linkdood.cn:10077/platform/api2/token?accessType=CLIENT&appID=21256832664&appSecret=");
        //response 对象
        CloseableHttpResponse response = null;
        try {
            // 执行http get请求
            response = httpclient.execute(httpGet);
            // 判断返回状态是否为200
//            if (response.getStatusLine().getStatusCode() == 200) {
//                String content = EntityUtils.toString(response.getEntity(), "UTF-8");
//                System.out.println("content = " + content);
//            }
        } finally {
            if (response != null) {
                response.close();
            }
            httpclient.close();
        }
    }

    public void sendTemplateMsg() throws Exception {
        // 创建Httpclient对象
        CloseableHttpClient httpclient = HttpClients.createDefault();
        // 定义请求的参数
        URI uri = new URIBuilder("http://standardtest.linkdood.cn:10077/platform/api2/message/sendMessageTemplate").build();
        // 创建http POST请求
        HttpPost httpPost = new HttpPost(uri);
        // 设置2个post参数，一个是scope、一个是q
//        List<NameValuePair> parameters = new ArrayList<NameValuePair>(0);
//        parameters.add(new BasicNameValuePair("content", "testtest"));
//        parameters.add(new BasicNameValuePair("creator", "test"));
//        parameters.add(new BasicNameValuePair("detailUrl", "https://www.baidu.com/"));
//        parameters.add(new BasicNameValuePair("title", "test"));
//        parameters.add(new BasicNameValuePair("titleBgColor", "#FFFFF0"));
//        parameters.add(new BasicNameValuePair("titleColor", "#FFFFF0"));
//        parameters.add(new BasicNameValuePair("toUsers", "21256832675,21256832680,21256832685,21256832690,21256832695,21256832700,21256832705,21256832710,21256832715,21256832720,21256832725,21256832730,21256832735,21256832740,21256832745,21256832750,21256832755,21256832760,21256832765,21256832770,21256832775,21256832780,21256832785,21256832790,21256832795,21256832800,21256832805,21256832810,21256832815,21256832820,21256832825,21256832830,21256832835,21256832840,21256832845,21256832850,21256832855,21256832860,21256832865,21256832870,21256832875,21256832880,21256832885,21256832890,21256832895,21256832900,21256832905,21256832910,21256832915,21256832920,21256832925,21256832930,21256832935,21256832940,21256832945,21256832950,21256832955,21256832960,21256832965,21256832970,21256832975,21256832980,21256832985,21256832990,21256832995,21256833000,21256833005,21256833010,21256833015,21256833020,21256833025,21256833030,21256833035,21256833040,21256833045,21256833050,21256833055,21256833060,21256833065,21256833070,21256833075,21256833080,21256833085,21256833090,21256833095,21256833100,21256833105,21256833110,21256833115,21256833120,21256833125,21256833130,21256833135,21256833140,21256833145,21256833150,21256833155,21256833160,21256833165,21256833170,21256833175,21256833180,21256833185,21256833190,21256833195,21256833200,21256833205,21256833210,21256833215,21256833220,21256833225,21256833230,21256833235,21256833240,21256833245,21256833250,21256833255,21256833260,21256833265,21256833270,21256833275,21256833280,21256833285,21256833290,21256833295,21256833300,21256833305,21256833310,21256833315,21256833320,21256833325,21256833330,21256833335,21256833340,21256833345,21256833350,21256833355,21256833360,21256833365,21256833370,21256833375,21256833380,21256833385,21256833390,21256833395,21256833400,21256833405,21256833410,21256833415,21256833420,21256833425,21256833430,21256833435,21256833440,21256833445,21256833450,21256833455,21256833460,21256833465,21256833470,21256833475,21256833480,21256833485,21256833490,21256833495,21256833500,21256833505,21256833510,21256833515,21256833520,21256833525,21256833530,21256833535,21256833540,21256833545,21256833550,21256833555,21256833560,21256833565,21256833570,21256833575,21256833580,21256833585,21256833590,21256833595,21256833600,21256833605,21256833610,21256833615,21256833620,21256833625,21256833630,21256833635,21256833640,21256833645,21256833650,21256833655,21256833660,21256833665,21256833670,21256833675,21256833680,21256833685,21256833690,21256833695,21256833700,21256833705,21256833710,21256833715,21256833720,21256833725,21256833730,21256833735,21256833740,21256833745,21256833750,21256833755,21256833760,21256833765,21256833770,21256833775,21256833780,21256833785,21256833790,21256833795,21256833800,21256833805,21256833810,21256833815,21256833820,21256833825,21256833830,21256833835,21256833840,21256833845,21256833850,21256833855,21256833860,21256833865,21256833870,21256833875,21256833880,21256833885,21256833890,21256833895,21256833900,21256833905,21256833910,21256833915,21256833920,21256833925,21256833930,21256833935,21256833940,21256833945,21256833950,21256833955,21256833960,21256833965,21256833970,21256833975,21256833980,21256833985,21256833990,21256833995,21256834000,21256834005,21256834010,21256834015,21256834020,21256834025,21256834030,21256834035,21256834040,21256834045,21256834050,21256834055,21256834060,21256834065,21256834070,21256834075,21256834080,21256834085,21256834090,21256834095,21256834100,21256834105,21256834110,21256834115,21256834120,21256834125,21256834130,21256834135,21256834140,21256834145,21256834150,21256834155,21256834160,21256834165,21256834170,21256834175,21256834180,21256834185,21256834190,21256834195,21256834200,21256834205,21256834210,21256834215,21256834220,21256834225,21256834230,21256834235,21256834240,21256834245,21256834250,21256834255,21256834260,21256834265,21256834270,21256834275,21256834280,21256834285,21256834290,21256834295,21256834300,21256834305,21256834310,21256834315,21256834320,21256834325,21256834330,21256834335,21256834340,21256834345,21256834350,21256834355,21256834360,21256834365,21256834370,21256834375,21256834380,21256834385,21256834390,21256834395,21256834400,21256834405,21256834410,21256834415,21256834420,21256834425,21256834430,21256834435,21256834440,21256834445,21256834450,21256834455,21256834460,21256834465,21256834470,21256834475,21256834480,21256834485,21256834490,21256834495,21256834500,21256834505,21256834510,21256834515,21256834520,21256834525,21256834530,21256834535,21256834540,21256834545,21256834550,21256834555,21256834560,21256834565,21256834570,21256834575,21256834580,21256834585,21256834590,21256834595,21256834600,21256834605,21256834610,21256834615,21256834620,21256834625,21256834630,21256834635,21256834640,21256834645,21256834650,21256834655,21256834660,21256834665,21256834670,21256834675,21256834680,21256834685,21256834690,21256834695,21256834700,21256834705,21256834710,21256834715,21256834720,21256834725,21256834730,21256834735,21256834740,21256834745,21256834750,21256834755,21256834760,21256834765,21256834770,21256834775,21256834780,21256834785,21256834790,21256834795,21256834800,21256834805,21256834810,21256834815,21256834820,21256834825,21256834830,21256834835,21256834840,21256834845,21256834850,21256834855,21256834860,21256834865,21256834870,21256834875,21256834880,21256834885,21256834890,21256834895,21256834900,21256834905,21256834910,21256834915,21256834920,21256834925,21256834930,21256834935,21256834940,21256834945,21256834950,21256834955,21256834960,21256834965,21256834970,21256834975,21256834980,21256834985,21256834990,21256834995,21256835000,21256835005,21256835010,21256835015,21256835020,21256835025,21256835030,21256835035,21256835040,21256835045,21256835050,21256835055,21256835060,21256835065,21256835070,21256835075,21256835080,21256835085,21256835090,21256835095,21256835100,21256835105,21256835110,21256835115,21256835120,21256835125,21256835130,21256835135,21256835140,21256835145,21256835150,21256835155,21256835160,21256835165,21256835170,21256835175,21256835180,21256835185,21256835190,21256835195,21256835200,21256835205,21256835210,21256835215,21256835220,21256835225,21256835230,21256835235,21256835240,21256835245,21256835250,21256835255,21256835260,21256835265,21256835270,21256835275,21256835280,21256835285,21256835290,21256835295,21256835300,21256835305,21256835310,21256835315,21256835320,21256835325,21256835330,21256835335,21256835340,21256835345,21256835350,21256835355,21256835360,21256835365,21256835370,21256835375,21256835380,21256835385,21256835390,21256835395,21256835400,21256835405,21256835410,21256835415,21256835420,21256835425,21256835430,21256835435,21256835440,21256835445,21256835450,21256835455,21256835460,21256835465,21256835470,21256835475,21256835480,21256835485,21256835490,21256835495,21256835500,21256835505,21256835510,21256835515,21256835520,21256835525,21256835530,21256835535,21256835540,21256835545,21256835550,21256835555,21256835560,21256835565,21256835570,21256835575,21256835580,21256835585,21256835590,21256835595,21256835600,21256835605,21256835610,21256835615,21256835620,21256835625,21256835630,21256835635,21256835640,21256835645,21256835650,21256835655,21256835660,21256835665,21256835670,21256835675,21256835680,21256835685,21256835690,21256835695,21256835700,21256835705,21256835710,21256835715,21256835720,21256835725,21256835730,21256835735,21256835740,21256835745,21256835750,21256835755,21256835760,21256835765,21256835770,21256835775,21256835780,21256835785,21256835790,21256835795,21256835800,21256835805,21256835810,21256835815,21256835820,21256835825,21256835830,21256835835,21256835840,21256835845,21256835850,21256835855,21256835860,21256835865,21256835870,21256835875,21256835880,21256835885,21256835890,21256835895,21256835900,21256835905,21256835910,21256835915,21256835920,21256835925,21256835930,21256835935,21256835940,21256835945,21256835950,21256835955,21256835960,21256835965,21256835970,21256835975,21256835980,21256835985,21256835990,21256835995,21256836000,21256836005,21256836010,21256836015,21256836020,21256836025,21256836030,21256836035,21256836040,21256836045,21256836050,21256836055,21256836060,21256836065,21256836070,21256836075,21256836080,21256836085,21256836090,21256836095,21256836100,21256836105,21256836110,21256836115,21256836120,21256836125,21256836130,21256836135,21256836140,21256836145,21256836150,21256836155,21256836160,21256836165,21256836170,21256836175,21256836180,21256836185,21256836190,21256836195,21256836200,21256836205,21256836210,21256836215,21256836220,21256836225,21256836230,21256836235,21256836240,21256836245,21256836250,21256836255,21256836260,21256836265,21256836270,21256836275,21256836280,21256836285,21256836290,21256836295,21256836300,21256836305,21256836310,21256836315,21256836320,21256836325,21256836330,21256836335,21256836340,21256836345,21256836350,21256836355,21256836360,21256836365,21256836370,21256836375,21256836380,21256836385,21256836390,21256836395,21256836400,21256836405,21256836410,21256836415,21256836420,21256836425,21256836430,21256836435,21256836440,21256836445,21256836450,21256836455,21256836460,21256836465,21256836470,21256836475,21256836480,21256836485,21256836490,21256836495,21256836500,21256836505,21256836510,21256836515,21256836520,21256836525,21256836530,21256836535,21256836540,21256836545,21256836550,21256836555,21256836560,21256836565,21256836570,21256836575,21256836580,21256836585,21256836590,21256836595,21256836600,21256836605,21256836610,21256836615,21256836620,21256836625,21256836630,21256836635,21256836640,21256836645,21256836650,21256836655,21256836660,21256836665,21256836670,21256836675,21256836680,21256836685,21256836690,21256836695,21256836700,21256836705,21256836710,21256836715,21256836720,21256836725,21256836730,21256836735,21256836740,21256836745,21256836750,21256836755,21256836760,21256836765,21256836770,21256836775,21256836780,21256836785,21256836790,21256836795,21256836800,21256836805,21256836810,21256836815,21256836820,21256836825,21256836830,21256836835,21256836840,21256836845,21256836850,21256836855,21256836860,21256836865,21256836870,21256836875,21256836880,21256836885,21256836890,21256836895,21256836900,21256836905,21256836910,21256836915,21256836920,21256836925,21256836930,21256836935,21256836940,21256836945,21256836950,21256836955,21256836960,21256836965,21256836970,21256836975,21256836980,21256836985,21256836990,21256836995,21256837000,21256837005,21256837010,21256837015,21256837020,21256837025,21256837030,21256837035,21256837040,21256837045,21256837050,21256837055,21256837060,21256837065,21256837070,21256837075,21256837080,21256837085,21256837090,21256837095,21256837100,21256837105,21256837110,21256837115,21256837120,21256837125,21256837130,21256837135,21256837140,21256837145,21256837150,21256837155,21256837160,21256837165,21256837170,21256837175,21256837180,21256837185,21256837190,21256837195,21256837200,21256837205,21256837210,21256837215,21256837220,21256837225,21256837230,21256837235,21256837240,21256837245,21256837250,21256837255,21256837260,21256837265,21256837270,21256837275,21256837280,21256837285,21256837290,21256837295,21256837300,21256837305,21256837310,21256837315,21256837320,21256837325,21256837330,21256837335,21256837340,21256837345,21256837350,21256837355,21256837360,21256837365,21256837370,21256837375,21256837380,21256837385,21256837390,21256837395,21256837400,21256837405,21256837410,21256837415,21256837420,21256837425,21256837430,21256837435,21256837440,21256837445,21256837450,21256837455,21256837460,21256837465,21256837470,21256837475,21256837480,21256837485,21256837490,21256837495,21256837500,21256837505,21256837510,21256837515,21256837520,21256837525,21256837530,21256837535,21256837540,21256837545,21256837550,21256837555,21256837560,21256837565,21256837570,21256837575,21256837580,21256837585,21256837590,21256837595,21256837600,21256837605,21256837610,21256837615,21256837620,21256837625,21256837630,21256837635,21256837640,21256837645,21256837650,21256837655,21256837660,21256837665,21256837670,21256837675,21256837680,21256837685,21256837690,21256837695,21256837700,21256837705,21256837710,21256837715,21256837720,21256837725,21256837730,21256837735,21256837740,21256837745,21256837750,21256837755,21256837760,21256837765,21256837770,21256837775,21256837780,21256837785,21256837790,21256837795,21256837800,21256837805,21256837810,21256837815,21256837820,21256837825,21256837830,21256837835,21256837840,21256837845,21256837850,21256837855,21256837860,21256837865,21256837870,21256837875,21256837880,21256837885,21256837890,21256837895,21256837900,21256837905,21256837910,21256837915,21256837920,21256837925,21256837930,21256837935,21256837940,21256837945,21256837950,21256837955,21256837960,21256837965,21256837970,21256837975,21256837980,21256837985,21256837990,21256837995,21256838000,21256838005,21256838010,21256838015,21256838020,21256838025,21256838030,21256838035,21256838040,21256838045,21256838050,21256838055,21256838060,21256838065,21256838070,21256838075,21256838080,21256838085,21256838090,21256838095,21256838100,21256838105,21256838110,21256838115,21256838120,21256838125,21256838130,21256838135,21256838140,21256838145,21256838150,21256838155,21256838160,21256838165,21256838170,21256838175,21256838180,21256838185,21256838190,21256838195,21256838200,21256838205,21256838210,21256838215,21256838220,21256838225,21256838230,21256838235,21256838240,21256838245,21256838250,21256838255,21256838260,21256838265,21256838270,21256838275,21256838280,21256838285,21256838290,21256838295,21256838300,21256838305,21256838310,21256838315,21256838320,21256838325,21256838330,21256838335,21256838340,21256838345,21256838350,21256838355,21256838360,21256838365,21256838370,21256838375,21256838380,21256838385,21256838390,21256838395,21256838400,21256838405,21256838410,21256838415,21256838420,21256838425,21256838430,21256838435,21256838440,21256838445,21256838450,21256838455,21256838460,21256838465,21256838470,21256838475,21256838480,21256838485,21256838490,21256838495,21256838500,21256838505,21256838510,21256838515,21256838520,21256838525,21256838530,21256838535,21256838540,21256838545,21256838550,21256838555,21256838560,21256838565,21256838570,21256838575,21256838580,21256838585,21256838590,21256838595,21256838600,21256838605,21256838610,21256838615,21256838620,21256838625,21256838630,21256838635,21256838640,21256838645,21256838650,21256838655,21256838660,21256838665,21256838670,21256838675,21256838680,21256838685,21256838690,21256838695,21256838700,21256838705,21256838710,21256838715,21256838720,21256838725,21256838730,21256838735,21256838740,21256838745,21256838750,21256838755,21256838760,21256838765,21256838770,21256838775,21256838780,21256838785,21256838790,21256838795,21256838800,21256838805,21256838810,21256838815,21256838820,21256838825,21256838830,21256838835,21256838840,21256838845,21256838850,21256838855,21256838860,21256838865,21256838870,21256838875,21256838880,21256838885,21256838890,21256838895,21256838900,21256838905,21256838910,21256838915,21256838920,21256838925,21256838930,21256838935,21256838940,21256838945,21256838950,21256838955,21256838960,21256838965,21256838970,21256838975,21256838980,21256838985,21256838990,21256838995,21256839000,21256839005,21256839010,21256839015,21256839020,21256839025,21256839030,21256839035,21256839040,21256839045,21256839050,21256839055,21256839060,21256839065,21256839070,21256839075,21256839080,21256839085,21256839090,21256839095,21256839100,21256839105,21256839110,21256839115,21256839120,21256839125,21256839130,21256839135,21256839140,21256839145,21256839150,21256839155,21256839160,21256839165,21256839170,21256839175,21256839180,21256839185,21256839190,21256839195,21256839200,21256839205,21256839210,21256839215,21256839220,21256839225,21256839230,21256839235,21256839240,21256839245,21256839250,21256839255,21256839260,21256839265,21256839270,21256839275,21256839280,21256839285,21256839290,21256839295,21256839300,21256839305,21256839310,21256839315,21256839320,21256839325,21256839330,21256839335,21256839340,21256839345,21256839350,21256839355,21256839360,21256839365,21256839370,21256839375,21256839380,21256839385,21256839390,21256839395,21256839400,21256839405,21256839410,21256839415,21256839420,21256839425,21256839430,21256839435,21256839440,21256839445,21256839450,21256839455,21256839460,21256839465,21256839470,21256839475,21256839480,21256839485,21256839490,21256839495,21256839500,21256839505,21256839510,21256839515,21256839520,21256839525,21256839530,21256839535,21256839540,21256839545,21256839550,21256839555,21256839560,21256839565,21256839570,21256839575,21256839580,21256839585,21256839590,21256839595,21256839600,21256839605,21256839610,21256839615,21256839620,21256839625,21256839630,21256839635,21256839640,21256839645,21256839650,21256839655,21256839660,21256839665,21256839670,21256839675,21256839680,21256839685,21256839690,21256839695,21256839700,21256839705,21256839710,21256839715,21256839720,21256839725,21256839730,21256839735,21256839740,21256839745,21256839750,21256839755,21256839760,21256839765,21256839770,21256839775,21256839780,21256839785,21256839790,21256839795,21256839800,21256839805,21256839810,21256839815,21256839820,21256839825,21256839830,21256839835,21256839840,21256839845,21256839850,21256839855,21256839860,21256839865,21256839870,21256839875,21256839880,21256839885,21256839890,21256839895,21256839900,21256839905,21256839910,21256839915,21256839920,21256839925,21256839930,21256839935,21256839940,21256839945,21256839950,21256839955,21256839960,21256839965,21256839970,21256839975,21256839980,21256839985,21256839990,21256839995,21256840000,21256840005,21256840010,21256840015,21256840020,21256840025,21256840030,21256840035,21256840040,21256840045,21256840050,21256840055,21256840060,21256840065,21256840070,21256840075,21256840080,21256840085,21256840090,21256840095,21256840100,21256840105,21256840110,21256840115,21256840120,21256840125,21256840130,21256840135,21256840140,21256840145,21256840150,21256840155,21256840160,21256840165,21256840170,21256840175,21256840180,21256840185,21256840190,21256840195,21256840200,21256840205,21256840210,21256840215,21256840220,21256840225,21256840230,21256840235,21256840240,21256840245,21256840250,21256840255,21256840260,21256840265,21256840270,21256840275,21256840280,21256840285,21256840290,21256840295,21256840300,21256840305,21256840310,21256840315,21256840320,21256840325,21256840330,21256840335,21256840340,21256840345,21256840350,21256840355,21256840360,21256840365,21256840370,21256840375,21256840380,21256840385,21256840390,21256840395,21256840400,21256840405,21256840410,21256840415,21256840420,21256840425,21256840430,21256840435,21256840440,21256840445,21256840450,21256840455,21256840460,21256840465,21256840470,21256840475,21256840480,21256840485,21256840490,21256840495,21256840500,21256840505,21256840510,21256840515,21256840520,21256840525,21256840530,21256840535,21256840540,21256840545,21256840550,21256840555,21256840560,21256840565,21256840570,21256840575,21256840580,21256840585,21256840590,21256840595,21256840600,21256840605,21256840610,21256840615,21256840620,21256840625,21256840630,21256840635,21256840640,21256840645,21256840650,21256840655,21256840660,21256840665,21256840670,"));
//        parameters.add(new BasicNameValuePair("type", "1"));
        String json = "{ \n" +
                "\"content\":\"testtest\",\n" +
                "\"creator\":\"test\",\n" +
                "\"detailUrl\":\"https://www.baidu.com/\",\n" +
                "\"title\":\"test\",\n" +
                "\"titleBgColor\":\"#FFFFF0\",\n" +
                "\"titleColor\":\"#FFFFF0\",\n" +
                "\"toUsers\":\"21256832675,21256832680,21256832685,21256832690,21256832695,21256832700,21256832705,21256832710,21256832715,21256832720,21256832725,21256832730,21256832735,21256832740,21256832745,21256832750,21256832755,21256832760,21256832765,21256832770,21256832775,21256832780,21256832785,21256832790,21256832795,21256832800,21256832805,21256832810,21256832815,21256832820,21256832825,21256832830,21256832835,21256832840,21256832845,21256832850,21256832855,21256832860,21256832865,21256832870,21256832875,21256832880,21256832885,21256832890,21256832895,21256832900,21256832905,21256832910,21256832915,21256832920,21256832925,21256832930,21256832935,21256832940,21256832945,21256832950,21256832955,21256832960,21256832965,21256832970,21256832975,21256832980,21256832985,21256832990,21256832995,21256833000,21256833005,21256833010,21256833015,21256833020,21256833025,21256833030,21256833035,21256833040,21256833045,21256833050,21256833055,21256833060,21256833065,21256833070,21256833075,21256833080,21256833085,21256833090,21256833095,21256833100,21256833105,21256833110,21256833115,21256833120,21256833125,21256833130,21256833135,21256833140,21256833145,21256833150,21256833155,21256833160,21256833165,21256833170,21256833175,21256833180,21256833185,21256833190,21256833195,21256833200,21256833205,21256833210,21256833215,21256833220,21256833225,21256833230,21256833235,21256833240,21256833245,21256833250,21256833255,21256833260,21256833265,21256833270,21256833275,21256833280,21256833285,21256833290,21256833295,21256833300,21256833305,21256833310,21256833315,21256833320,21256833325,21256833330,21256833335,21256833340,21256833345,21256833350,21256833355,21256833360,21256833365,21256833370,21256833375,21256833380,21256833385,21256833390,21256833395,21256833400,21256833405,21256833410,21256833415,21256833420,21256833425,21256833430,21256833435,21256833440,21256833445,21256833450,21256833455,21256833460,21256833465,21256833470,21256833475,21256833480,21256833485,21256833490,21256833495,21256833500,21256833505,21256833510,21256833515,21256833520,21256833525,21256833530,21256833535,21256833540,21256833545,21256833550,21256833555,21256833560,21256833565,21256833570,21256833575,21256833580,21256833585,21256833590,21256833595,21256833600,21256833605,21256833610,21256833615,21256833620,21256833625,21256833630,21256833635,21256833640,21256833645,21256833650,21256833655,21256833660,21256833665,21256833670,21256833675,21256833680,21256833685,21256833690,21256833695,21256833700,21256833705,21256833710,21256833715,21256833720,21256833725,21256833730,21256833735,21256833740,21256833745,21256833750,21256833755,21256833760,21256833765,21256833770,21256833775,21256833780,21256833785,21256833790,21256833795,21256833800,21256833805,21256833810,21256833815,21256833820,21256833825,21256833830,21256833835,21256833840,21256833845,21256833850,21256833855,21256833860,21256833865,21256833870,21256833875,21256833880,21256833885,21256833890,21256833895,21256833900,21256833905,21256833910,21256833915,21256833920,21256833925,21256833930,21256833935,21256833940,21256833945,21256833950,21256833955,21256833960,21256833965,21256833970,21256833975,21256833980,21256833985,21256833990,21256833995,21256834000,21256834005,21256834010,21256834015,21256834020,21256834025,21256834030,21256834035,21256834040,21256834045,21256834050,21256834055,21256834060,21256834065,21256834070,21256834075,21256834080,21256834085,21256834090,21256834095,21256834100,21256834105,21256834110,21256834115,21256834120,21256834125,21256834130,21256834135,21256834140,21256834145,21256834150,21256834155,21256834160,21256834165,21256834170,21256834175,21256834180,21256834185,21256834190,21256834195,21256834200,21256834205,21256834210,21256834215,21256834220,21256834225,21256834230,21256834235,21256834240,21256834245,21256834250,21256834255,21256834260,21256834265,21256834270,21256834275,21256834280,21256834285,21256834290,21256834295,21256834300,21256834305,21256834310,21256834315,21256834320,21256834325,21256834330,21256834335,21256834340,21256834345,21256834350,21256834355,21256834360,21256834365,21256834370,21256834375,21256834380,21256834385,21256834390,21256834395,21256834400,21256834405,21256834410,21256834415,21256834420,21256834425,21256834430,21256834435,21256834440,21256834445,21256834450,21256834455,21256834460,21256834465,21256834470,21256834475,21256834480,21256834485,21256834490,21256834495,21256834500,21256834505,21256834510,21256834515,21256834520,21256834525,21256834530,21256834535,21256834540,21256834545,21256834550,21256834555,21256834560,21256834565,21256834570,21256834575,21256834580,21256834585,21256834590,21256834595,21256834600,21256834605,21256834610,21256834615,21256834620,21256834625,21256834630,21256834635,21256834640,21256834645,21256834650,21256834655,21256834660,21256834665,21256834670,21256834675,21256834680,21256834685,21256834690,21256834695,21256834700,21256834705,21256834710,21256834715,21256834720,21256834725,21256834730,21256834735,21256834740,21256834745,21256834750,21256834755,21256834760,21256834765,21256834770,21256834775,21256834780,21256834785,21256834790,21256834795,21256834800,21256834805,21256834810,21256834815,21256834820,21256834825,21256834830,21256834835,21256834840,21256834845,21256834850,21256834855,21256834860,21256834865,21256834870,21256834875,21256834880,21256834885,21256834890,21256834895,21256834900,21256834905,21256834910,21256834915,21256834920,21256834925,21256834930,21256834935,21256834940,21256834945,21256834950,21256834955,21256834960,21256834965,21256834970,21256834975,21256834980,21256834985,21256834990,21256834995,21256835000,21256835005,21256835010,21256835015,21256835020,21256835025,21256835030,21256835035,21256835040,21256835045,21256835050,21256835055,21256835060,21256835065,21256835070,21256835075,21256835080,21256835085,21256835090,21256835095,21256835100,21256835105,21256835110,21256835115,21256835120,21256835125,21256835130,21256835135,21256835140,21256835145,21256835150,21256835155,21256835160,21256835165,21256835170,21256835175,21256835180,21256835185,21256835190,21256835195,21256835200,21256835205,21256835210,21256835215,21256835220,21256835225,21256835230,21256835235,21256835240,21256835245,21256835250,21256835255,21256835260,21256835265,21256835270,21256835275,21256835280,21256835285,21256835290,21256835295,21256835300,21256835305,21256835310,21256835315,21256835320,21256835325,21256835330,21256835335,21256835340,21256835345,21256835350,21256835355,21256835360,21256835365,21256835370,21256835375,21256835380,21256835385,21256835390,21256835395,21256835400,21256835405,21256835410,21256835415,21256835420,21256835425,21256835430,21256835435,21256835440,21256835445,21256835450,21256835455,21256835460,21256835465,21256835470,21256835475,21256835480,21256835485,21256835490,21256835495,21256835500,21256835505,21256835510,21256835515,21256835520,21256835525,21256835530,21256835535,21256835540,21256835545,21256835550,21256835555,21256835560,21256835565,21256835570,21256835575,21256835580,21256835585,21256835590,21256835595,21256835600,21256835605,21256835610,21256835615,21256835620,21256835625,21256835630,21256835635,21256835640,21256835645,21256835650,21256835655,21256835660,21256835665,21256835670,21256835675,21256835680,21256835685,21256835690,21256835695,21256835700,21256835705,21256835710,21256835715,21256835720,21256835725,21256835730,21256835735,21256835740,21256835745,21256835750,21256835755,21256835760,21256835765,21256835770,21256835775,21256835780,21256835785,21256835790,21256835795,21256835800,21256835805,21256835810,21256835815,21256835820,21256835825,21256835830,21256835835,21256835840,21256835845,21256835850,21256835855,21256835860,21256835865,21256835870,21256835875,21256835880,21256835885,21256835890,21256835895,21256835900,21256835905,21256835910,21256835915,21256835920,21256835925,21256835930,21256835935,21256835940,21256835945,21256835950,21256835955,21256835960,21256835965,21256835970,21256835975,21256835980,21256835985,21256835990,21256835995,21256836000,21256836005,21256836010,21256836015,21256836020,21256836025,21256836030,21256836035,21256836040,21256836045,21256836050,21256836055,21256836060,21256836065,21256836070,21256836075,21256836080,21256836085,21256836090,21256836095,21256836100,21256836105,21256836110,21256836115,21256836120,21256836125,21256836130,21256836135,21256836140,21256836145,21256836150,21256836155,21256836160,21256836165,21256836170,21256836175,21256836180,21256836185,21256836190,21256836195,21256836200,21256836205,21256836210,21256836215,21256836220,21256836225,21256836230,21256836235,21256836240,21256836245,21256836250,21256836255,21256836260,21256836265,21256836270,21256836275,21256836280,21256836285,21256836290,21256836295,21256836300,21256836305,21256836310,21256836315,21256836320,21256836325,21256836330,21256836335,21256836340,21256836345,21256836350,21256836355,21256836360,21256836365,21256836370,21256836375,21256836380,21256836385,21256836390,21256836395,21256836400,21256836405,21256836410,21256836415,21256836420,21256836425,21256836430,21256836435,21256836440,21256836445,21256836450,21256836455,21256836460,21256836465,21256836470,21256836475,21256836480,21256836485,21256836490,21256836495,21256836500,21256836505,21256836510,21256836515,21256836520,21256836525,21256836530,21256836535,21256836540,21256836545,21256836550,21256836555,21256836560,21256836565,21256836570,21256836575,21256836580,21256836585,21256836590,21256836595,21256836600,21256836605,21256836610,21256836615,21256836620,21256836625,21256836630,21256836635,21256836640,21256836645,21256836650,21256836655,21256836660,21256836665,21256836670,21256836675,21256836680,21256836685,21256836690,21256836695,21256836700,21256836705,21256836710,21256836715,21256836720,21256836725,21256836730,21256836735,21256836740,21256836745,21256836750,21256836755,21256836760,21256836765,21256836770,21256836775,21256836780,21256836785,21256836790,21256836795,21256836800,21256836805,21256836810,21256836815,21256836820,21256836825,21256836830,21256836835,21256836840,21256836845,21256836850,21256836855,21256836860,21256836865,21256836870,21256836875,21256836880,21256836885,21256836890,21256836895,21256836900,21256836905,21256836910,21256836915,21256836920,21256836925,21256836930,21256836935,21256836940,21256836945,21256836950,21256836955,21256836960,21256836965,21256836970,21256836975,21256836980,21256836985,21256836990,21256836995,21256837000,21256837005,21256837010,21256837015,21256837020,21256837025,21256837030,21256837035,21256837040,21256837045,21256837050,21256837055,21256837060,21256837065,21256837070,21256837075,21256837080,21256837085,21256837090,21256837095,21256837100,21256837105,21256837110,21256837115,21256837120,21256837125,21256837130,21256837135,21256837140,21256837145,21256837150,21256837155,21256837160,21256837165,21256837170,21256837175,21256837180,21256837185,21256837190,21256837195,21256837200,21256837205,21256837210,21256837215,21256837220,21256837225,21256837230,21256837235,21256837240,21256837245,21256837250,21256837255,21256837260,21256837265,21256837270,21256837275,21256837280,21256837285,21256837290,21256837295,21256837300,21256837305,21256837310,21256837315,21256837320,21256837325,21256837330,21256837335,21256837340,21256837345,21256837350,21256837355,21256837360,21256837365,21256837370,21256837375,21256837380,21256837385,21256837390,21256837395,21256837400,21256837405,21256837410,21256837415,21256837420,21256837425,21256837430,21256837435,21256837440,21256837445,21256837450,21256837455,21256837460,21256837465,21256837470,21256837475,21256837480,21256837485,21256837490,21256837495,21256837500,21256837505,21256837510,21256837515,21256837520,21256837525,21256837530,21256837535,21256837540,21256837545,21256837550,21256837555,21256837560,21256837565,21256837570,21256837575,21256837580,21256837585,21256837590,21256837595,21256837600,21256837605,21256837610,21256837615,21256837620,21256837625,21256837630,21256837635,21256837640,21256837645,21256837650,21256837655,21256837660,21256837665,21256837670,21256837675,21256837680,21256837685,21256837690,21256837695,21256837700,21256837705,21256837710,21256837715,21256837720,21256837725,21256837730,21256837735,21256837740,21256837745,21256837750,21256837755,21256837760,21256837765,21256837770,21256837775,21256837780,21256837785,21256837790,21256837795,21256837800,21256837805,21256837810,21256837815,21256837820,21256837825,21256837830,21256837835,21256837840,21256837845,21256837850,21256837855,21256837860,21256837865,21256837870,21256837875,21256837880,21256837885,21256837890,21256837895,21256837900,21256837905,21256837910,21256837915,21256837920,21256837925,21256837930,21256837935,21256837940,21256837945,21256837950,21256837955,21256837960,21256837965,21256837970,21256837975,21256837980,21256837985,21256837990,21256837995,21256838000,21256838005,21256838010,21256838015,21256838020,21256838025,21256838030,21256838035,21256838040,21256838045,21256838050,21256838055,21256838060,21256838065,21256838070,21256838075,21256838080,21256838085,21256838090,21256838095,21256838100,21256838105,21256838110,21256838115,21256838120,21256838125,21256838130,21256838135,21256838140,21256838145,21256838150,21256838155,21256838160,21256838165,21256838170,21256838175,21256838180,21256838185,21256838190,21256838195,21256838200,21256838205,21256838210,21256838215,21256838220,21256838225,21256838230,21256838235,21256838240,21256838245,21256838250,21256838255,21256838260,21256838265,21256838270,21256838275,21256838280,21256838285,21256838290,21256838295,21256838300,21256838305,21256838310,21256838315,21256838320,21256838325,21256838330,21256838335,21256838340,21256838345,21256838350,21256838355,21256838360,21256838365,21256838370,21256838375,21256838380,21256838385,21256838390,21256838395,21256838400,21256838405,21256838410,21256838415,21256838420,21256838425,21256838430,21256838435,21256838440,21256838445,21256838450,21256838455,21256838460,21256838465,21256838470,21256838475,21256838480,21256838485,21256838490,21256838495,21256838500,21256838505,21256838510,21256838515,21256838520,21256838525,21256838530,21256838535,21256838540,21256838545,21256838550,21256838555,21256838560,21256838565,21256838570,21256838575,21256838580,21256838585,21256838590,21256838595,21256838600,21256838605,21256838610,21256838615,21256838620,21256838625,21256838630,21256838635,21256838640,21256838645,21256838650,21256838655,21256838660,21256838665,21256838670,21256838675,21256838680,21256838685,21256838690,21256838695,21256838700,21256838705,21256838710,21256838715,21256838720,21256838725,21256838730,21256838735,21256838740,21256838745,21256838750,21256838755,21256838760,21256838765,21256838770,21256838775,21256838780,21256838785,21256838790,21256838795,21256838800,21256838805,21256838810,21256838815,21256838820,21256838825,21256838830,21256838835,21256838840,21256838845,21256838850,21256838855,21256838860,21256838865,21256838870,21256838875,21256838880,21256838885,21256838890,21256838895,21256838900,21256838905,21256838910,21256838915,21256838920,21256838925,21256838930,21256838935,21256838940,21256838945,21256838950,21256838955,21256838960,21256838965,21256838970,21256838975,21256838980,21256838985,21256838990,21256838995,21256839000,21256839005,21256839010,21256839015,21256839020,21256839025,21256839030,21256839035,21256839040,21256839045,21256839050,21256839055,21256839060,21256839065,21256839070,21256839075,21256839080,21256839085,21256839090,21256839095,21256839100,21256839105,21256839110,21256839115,21256839120,21256839125,21256839130,21256839135,21256839140,21256839145,21256839150,21256839155,21256839160,21256839165,21256839170,21256839175,21256839180,21256839185,21256839190,21256839195,21256839200,21256839205,21256839210,21256839215,21256839220,21256839225,21256839230,21256839235,21256839240,21256839245,21256839250,21256839255,21256839260,21256839265,21256839270,21256839275,21256839280,21256839285,21256839290,21256839295,21256839300,21256839305,21256839310,21256839315,21256839320,21256839325,21256839330,21256839335,21256839340,21256839345,21256839350,21256839355,21256839360,21256839365,21256839370,21256839375,21256839380,21256839385,21256839390,21256839395,21256839400,21256839405,21256839410,21256839415,21256839420,21256839425,21256839430,21256839435,21256839440,21256839445,21256839450,21256839455,21256839460,21256839465,21256839470,21256839475,21256839480,21256839485,21256839490,21256839495,21256839500,21256839505,21256839510,21256839515,21256839520,21256839525,21256839530,21256839535,21256839540,21256839545,21256839550,21256839555,21256839560,21256839565,21256839570,21256839575,21256839580,21256839585,21256839590,21256839595,21256839600,21256839605,21256839610,21256839615,21256839620,21256839625,21256839630,21256839635,21256839640,21256839645,21256839650,21256839655,21256839660,21256839665,21256839670,21256839675,21256839680,21256839685,21256839690,21256839695,21256839700,21256839705,21256839710,21256839715,21256839720,21256839725,21256839730,21256839735,21256839740,21256839745,21256839750,21256839755,21256839760,21256839765,21256839770,21256839775,21256839780,21256839785,21256839790,21256839795,21256839800,21256839805,21256839810,21256839815,21256839820,21256839825,21256839830,21256839835,21256839840,21256839845,21256839850,21256839855,21256839860,21256839865,21256839870,21256839875,21256839880,21256839885,21256839890,21256839895,21256839900,21256839905,21256839910,21256839915,21256839920,21256839925,21256839930,21256839935,21256839940,21256839945,21256839950,21256839955,21256839960,21256839965,21256839970,21256839975,21256839980,21256839985,21256839990,21256839995,21256840000,21256840005,21256840010,21256840015,21256840020,21256840025,21256840030,21256840035,21256840040,21256840045,21256840050,21256840055,21256840060,21256840065,21256840070,21256840075,21256840080,21256840085,21256840090,21256840095,21256840100,21256840105,21256840110,21256840115,21256840120,21256840125,21256840130,21256840135,21256840140,21256840145,21256840150,21256840155,21256840160,21256840165,21256840170,21256840175,21256840180,21256840185,21256840190,21256840195,21256840200,21256840205,21256840210,21256840215,21256840220,21256840225,21256840230,21256840235,21256840240,21256840245,21256840250,21256840255,21256840260,21256840265,21256840270,21256840275,21256840280,21256840285,21256840290,21256840295,21256840300,21256840305,21256840310,21256840315,21256840320,21256840325,21256840330,21256840335,21256840340,21256840345,21256840350,21256840355,21256840360,21256840365,21256840370,21256840375,21256840380,21256840385,21256840390,21256840395,21256840400,21256840405,21256840410,21256840415,21256840420,21256840425,21256840430,21256840435,21256840440,21256840445,21256840450,21256840455,21256840460,21256840465,21256840470,21256840475,21256840480,21256840485,21256840490,21256840495,21256840500,21256840505,21256840510,21256840515,21256840520,21256840525,21256840530,21256840535,21256840540,21256840545,21256840550,21256840555,21256840560,21256840565,21256840570,21256840575,21256840580,21256840585,21256840590,21256840595,21256840600,21256840605,21256840610,21256840615,21256840620,21256840625,21256840630,21256840635,21256840640,21256840645,21256840650,21256840655,21256840660,21256840665,21256840670,\",\n" +
                "\"type\":\"1\",\n" +
                "\"relatedUsers\":\"4395721494,4395721494\"\n" +
                "}";
        StringEntity postingString = new StringEntity(json);
        // 构造一个form表单式的实体
//        UrlEncodedFormEntity formEntity = new UrlEncodedFormEntity(parameters);
        // 将请求实体设置到httpPost对象中
        httpPost.setEntity(postingString);

        httpPost.addHeader("User-Agent", "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36");
        httpPost.addHeader("Content-Type", "application/json");
        httpPost.addHeader("access-token", "");
        //response 对象
        CloseableHttpResponse response = null;
        try {
            // 执行http get请求
            response = httpclient.execute(httpPost);
            System.out.println("response.getStatusLine().getStatusCode() = " + response.getStatusLine().getStatusCode());
            // 判断返回状态是否为200
            if (response.getStatusLine().getStatusCode() == 200) {
                String content = EntityUtils.toString(response.getEntity(), "UTF-8");
                System.out.println("content = " + content);
            }
        } finally {
            if (response != null) {
                response.close();
            }
            httpclient.close();
        }
    }

    public static void startExec (App app) {
        new Thread(() ->{
            try {
                app.sendTemplateMsg();
            } catch (Exception e) {
                e.printStackTrace();
            }
        }).start();
        try {
            Thread.sleep(3000);
            app.getToken();
            app.sendTemplateMsg();
//            Thread.sleep(3000);
//            app.getToken();
//            app.getToken();
//            app.getToken();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}

package com.dk.api.java8.stream;import java.io.FileInputStream;import java.io.IOException;import java.io.InputStreamReader;import java.nio.charset.StandardCharsets;import java.nio.file.Files;import java.nio.file.Path;import java.nio.file.Paths;import java.util.stream.Collectors;import java.util.stream.Stream;/** * @author DingKai */public class StreamDemo02 {    static String txtPath = "";    public static void main(String[] args) throws IOException {        long startTime = System.currentTimeMillis();        streamFile();        System.out.println("stream api files = " + (System.currentTimeMillis() - startTime));        startTime = System.currentTimeMillis();        normalFunctionInputStreamReader();        System.out.println("normal function = " + (System.currentTimeMillis() - startTime));    }    private static void normalFunctionInputStreamReader() throws IOException {        FileInputStream fileInputStream = new FileInputStream(txtPath);        InputStreamReader reader = new InputStreamReader(fileInputStream, StandardCharsets.UTF_8);        StringBuilder result = new StringBuilder();        if (reader.ready()) {            int read;            while ((read = reader.read()) != -1) {                result.append((char) read);            }        }        fileInputStream.close();        reader.close();        System.out.println("result = " + result);    }    private static void streamFile() throws IOException {        Path path = Paths.get(txtPath);        Stream<String> lines = Files.lines(path);        String collect = lines.collect(Collectors.joining(","));        lines.close();        System.out.println("collect = " + collect);    }}